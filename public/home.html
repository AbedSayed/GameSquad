<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameSquad - Find Your Perfect Gaming Team</title>
    
    <!-- Unified Theme System -->
    <link rel="stylesheet" href="css/gamesquad-theme.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/gaming-styles.css">
    <link rel="stylesheet" href="css/style.css">

    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <!-- Google fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&family=Exo+2:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="js/checkAuth.js"></script>
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <h1 class="sheen">GameSquad</h1>
            </div>
            <ul class="nav-links">
                <li><a href="home.html" class="active">Home</a></li>
                <li><a href="pages/lobbies.html">Lobbies</a></li>
                <li><a href="pages/players.html">Players</a></li>
                <li><a href="pages/about.html">About</a></li>
            </ul>
            <div class="user-profile">
                <span class="username">Username <i class="fas fa-chevron-down"></i></span>
                <div class="profile-dropdown">
                    <a href="pages/profile.html"><i class="fas fa-user"></i> My Profile</a>
                    <a href="pages/messages.html"><i class="fas fa-envelope"></i> Messages</a>
                    <a href="#" class="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
                </div>
            </div>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </nav>
    </header>

    <main class="auth-only">
        <section class="hero cyber-grid">
            <div class="hero-content">
                <h1 class="neon-text glitch" data-text="Find Your Perfect Gaming Squad">Find Your Perfect Gaming Squad</h1>
                <p>Connect with players who match your skill level, language, and gaming style.</p>
                <div class="hero-buttons">
                    <a href="pages/lobbies.html" class="btn btn-primary btn-hover-fx"><i class="fas fa-search"></i> <span>Browse Lobbies</span></a>
                    <a href="pages/create-lobby.html" class="btn btn-secondary btn-hover-fx"><i class="fas fa-plus"></i> <span>Create Lobby</span></a>
                </div>
            </div>
        </section>

        <section class="features section">
            <div class="container features-container">
                <h2 class="section-title neon-text-secondary">Why Choose GameSquad?</h2>
                <div class="features-grid fade-stagger">
                    <div class="feature-card card glow-effect">
                        <i class="fas fa-users"></i>
                        <h3>Find Like-minded Players</h3>
                        <p>Connect with gamers who share your interests, language, and skill level.</p>
                    </div>
                    <div class="feature-card card glow-effect">
                        <i class="fas fa-gamepad"></i>
                        <h3>Game-specific Lobbies</h3>
                        <p>Create or join lobbies tailored to specific games and play styles.</p>
                    </div>
                    <div class="feature-card card glow-effect">
                        <i class="fas fa-comments"></i>
                        <h3>Real-time Communication</h3>
                        <p>Chat with your teammates in real-time to coordinate strategies.</p>
                    </div>
                    <div class="feature-card card glow-effect">
                        <i class="fas fa-user-shield"></i>
                        <h3>Player Reputation System</h3>
                        <p>Find reliable teammates through our player rating system.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="section home-section popular-games">
            <div class="container">
                <h2 class="section-title neon-text">Popular Games</h2>
                <div class="games-grid fade-stagger">
                    <div class="game-card card hover-3d">
                        <img src="resources/Valorant-Logo-PNG-Image.png" alt="Valorant">
                        <div class="game-info">
                            <h3>Valorant</h3>
                            <p>5v5 character-based tactical FPS</p>
                            <a href="pages/lobbies.html?game=valorant" class="btn btn-primary join-btn">Join Lobby</a>
                        </div>
                    </div>
                    
                    <div class="game-card card hover-3d">
                        <img src="resources/counter-strike-png-.png" alt="CS:GO">
                        <div class="game-info">
                            <h3>Counter-Strike 2</h3>
                            <p>5v5 tactical shooter game</p>
                            <a href="pages/lobbies.html?game=csgo" class="btn btn-primary join-btn">Join Lobby</a>
                        </div>
                    </div>
                    
                    <div class="game-card card hover-3d">
                        <img src="resources/leageofLegend.png.png" alt="League of Legends">
                        <div class="game-info">
                            <h3>League of Legends</h3>
                            <p>5v5 multiplayer online battle arena</p>
                            <a href="pages/lobbies.html?game=lol" class="btn btn-primary join-btn">Join Lobby</a>
                        </div>
                    </div>
                    
                    <div class="game-card card hover-3d">
                        <img src="resources/apex.png.png" alt="Apex Legends">
                        <div class="game-info">
                            <h3>Apex Legends</h3>
                            <p>Battle royale hero shooter</p>
                            <a href="pages/lobbies.html?game=apex" class="btn btn-primary join-btn">Join Lobby</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="join-cta section rotating-border non-auth-only">
            <div class="container">
                <div class="cta-content">
                    <h2 class="glow-text">Ready to Join the Squad?</h2>
                    <p>Sign up now and start finding teammates for your next gaming session.</p>
                    <div class="cta-buttons">
                        <a href="pages/register.html" class="btn btn-primary btn-hover-fx">
                            <i class="fas fa-user-plus"></i> <span>Register Now</span>
                        </a>
                        <a href="pages/login.html" class="btn btn-secondary btn-hover-fx">
                            <i class="fas fa-sign-in-alt"></i> <span>Login</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h2 class="neon-text">GameSquad</h2>
                    <p>Find your perfect gaming team</p>
                </div>
                <div class="footer-links">
                    <div class="footer-column">
                        <h3>Navigation</h3>
                        <ul>
                            <li><a href="home.html">Home</a></li>
                            <li><a href="pages/lobbies.html">Lobbies</a></li>
                            <li><a href="pages/players.html">Players</a></li>
                            <li><a href="pages/about.html">About</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h3>Legal</h3>
                        <ul>
                            <li><a href="pages/terms.html">Terms of Service</a></li>
                            <li><a href="pages/privacy.html">Privacy Policy</a></li>
                            <li><a href="pages/cookies.html">Cookie Policy</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h3>Support</h3>
                        <ul>
                            <li><a href="pages/faq.html">FAQ</a></li>
                            <li><a href="pages/contact.html">Contact Us</a></li>
                            <li><a href="pages/report-bug.html">Report a Bug</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-social">
                    <h3>Follow Us</h3>
                    <div class="social-icons">
                        <a href="#" class="power-button"><i class="fab fa-discord"></i></a>
                        <a href="#" class="power-button"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="power-button"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="power-button"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 GameSquad. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <div class="notifications-container"></div>

    <!-- Scripts -->
    <script src="js/gamesquad-ui.js"></script>
    <script>
        // Global configuration
        window.APP_CONFIG = {
            API_URL: '/api'
        };
        
        // Immediate check for auth state (runs before DOM is loaded)
        (function() {
            const userInfoStr = localStorage.getItem('userInfo');
            const token = localStorage.getItem('token');
            
            const isAuthenticated = userInfoStr && token;
            
            // If authenticated, add class to html element
            if (isAuthenticated) {
                document.documentElement.classList.add('user-authenticated');
            } else {
                document.documentElement.classList.add('user-unauthenticated');
            }
        })();
        
        document.addEventListener('DOMContentLoaded', function() {
            // Apply particle effect to hero section
            applyParticleEffect('.hero');
            
            // Update auth UI (this will show/hide elements based on auth state)
            updateAuthUI();
            
            // Set up logout handler
            const logoutBtn = document.getElementById('logout-btn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Clear auth data
                    localStorage.removeItem('userInfo');
                    localStorage.removeItem('token');
                    
                    // Update UI
                    updateAuthUI();
                    
                    // Show notification
                    showNotification('You have been logged out successfully', 'success');
                    
                    // Redirect to landing page
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 1000);
                });
            }
        });
    </script>
</body>
</html>
